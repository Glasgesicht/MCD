export const commTables = [
  {
    //is an array, because these should be selectable in the future, especially considering collaborations
    //name: "cJTF-13",
    AMBER: [
      "79.350",
      "304.675",
      "118.275",
      "MIDS 111",
      "MIDS 89",
      "304.575",
      "248.325",
      "376.550",
      "145.225",
    ],
    AQUA: [
      "348.800",
      "63.325",
      "340.000",
      "275.000",
      "353.300",
      "358.025",
      "14.300",
      "294.375",
      "281.825",
    ],
    BLACK: [
      "52.600",
      "371.375",
      "230.725",
      "14.525",
      "141.725",
      "142.175",
      "346.550",
      "130.675",
      "141.250",
    ],
    BLUE: [
      "385.700",
      "269.150",
      "36.100",
      "386.525",
      "20.500",
      "345.550",
      "129.850",
      "239.175",
      "62.900",
    ],
    BRONZE: [
      "129.475",
      "371.125",
      "43.875",
      "17.050",
      "122.275",
      "256.800",
      "337.500",
      "393.700",
      "288.025",
    ],
    CARMINE: [
      "276.250",
      "137.550",
      "348.250",
      "336.000",
      "386.075",
      "MIDS 65",
      "277.450",
      "134.200",
      "116.100",
    ],
    COBALT: [
      "291.250",
      "361.325",
      "150.925",
      "126.175",
      "125.650",
      "309.375",
      "47.275",
      "56.575",
      "354.225",
    ],
    CRIMSON: [
      "130.600",
      "397.275",
      "309.875",
      "16.650",
      "244.050",
      "137.775",
      "62.800",
      "MIDS 45",
      "116.650",
    ],
    EMERALD: [
      "147.675",
      "144.975",
      "8.425",
      "MIDS 67",
      "116.850",
      "312.550",
      "227.425",
      "MIDS 92",
      "362.300",
    ],
    GARNET: [
      "355.725",
      "377.125",
      "381.200",
      "263.625",
      "21.825",
      "346.425",
      "7.575",
      "329.550",
      "122.925",
    ],
    GOLD: [
      "379.475",
      "31.800",
      "368.500",
      "340.575",
      "132.650",
      "262.600",
      "229.475",
      "19.725",
      "362.375",
    ],
    GREEN: [
      "124.025",
      "129.750",
      "84.575",
      "MIDS 93",
      "321.825",
      "362.450",
      "315.475",
      "324.100",
      "363.875",
    ],
    INDIGO: [
      "279.400",
      "319.150",
      "53.825",
      "63.550",
      "11.975",
      "22.675",
      "3.475",
      "MIDS 6",
      "383.600",
    ],
    IVORY: [
      "241.525",
      "136.600",
      "297.975",
      "139.175",
      "275.925",
      "269.125",
      "62.250",
      "382.900",
      "33.775",
    ],
    JADE: [
      "235.700",
      "369.075",
      "321.625",
      "280.625",
      "352.225",
      "251.825",
      "MIDS 116",
      "11.125",
      "MIDS 84",
    ],
    KHAKI: [
      "362.250",
      "30.200",
      "362.075",
      "MIDS 44",
      "282.125",
      "264.725",
      "282.375",
      "243.525",
      "69.400",
    ],
    MAGENTA: [
      "326.175",
      "117.250",
      "327.750",
      "383.975",
      "255.400",
      "360.275",
      "267.775",
      "74.025",
      "350.175",
    ],
    OCHRE: [
      "144.825",
      "124.125",
      "235.425",
      "271.800",
      "126.975",
      "MIDS 94",
      "118.125",
      "226.550",
      "MIDS 74",
    ],
    OLIVE: [
      "MIDS 47",
      "254.925",
      "399.225",
      "MIDS 85",
      "135.500",
      "234.275",
      "9.600",
      "281.925",
      "14.275",
    ],
    ORANGE: [
      "9.950",
      "83.600",
      "MIDS 107",
      "359.900",
      "363.875",
      "MIDS 100",
      "293.650",
      "61.425",
      "MIDS 16",
    ],
    PINK: [
      "226.850",
      "MIDS 71",
      "146.300",
      "300.750",
      "396.075",
      "36.075",
      "5.850",
      "127.150",
      "MIDS 104",
    ],
    PURPLE: [
      "387.050",
      "119.875",
      "269.125",
      "326.675",
      "148.050",
      "67.200",
      "326.875",
      "278.325",
      "282.550",
    ],
    RED: [
      "34.450",
      "MIDS 17",
      "324.950",
      "230.750",
      "232.575",
      "9.500",
      "67.125",
      "MIDS 11",
      "383.675",
    ],
    RUBY: [
      "286.975",
      "MIDS 14",
      "395.700",
      "279.250",
      "MIDS 71",
      "393.325",
      "29.500",
      "56.825",
      "352.725",
    ],
    SAGE: [
      "366.500",
      "144.975",
      "321.975",
      "14.425",
      "MIDS 49",
      "300.500",
      "226.675",
      "26.350",
      "150.225",
    ],
    SAPPHIRE: [
      "387.075",
      "382.175",
      "339.875",
      "MIDS 107",
      "225.725",
      "150.275",
      "258.950",
      "38.975",
      "132.375",
    ],
    SCARLET: [
      "8.100",
      "117.625",
      "MIDS 47",
      "279.975",
      "28.375",
      "314.550",
      "234.525",
      "143.500",
      "266.825",
    ],
    SILVER: [
      "56.350",
      "371.275",
      "44.350",
      "372.550",
      "149.750",
      "301.400",
      "43.625",
      "139.875",
      "27.850",
    ],
    TEAL: [
      "308.275",
      "50.725",
      "379.200",
      "9.450",
      "131.875",
      "MIDS 27",
      "14.925",
      "258.375",
      "341.725",
    ],
    VIOLET: [
      "257.925",
      "MIDS 22",
      "366.625",
      "257.450",
      "399.825",
      "390.700",
      "395.950",
      "373.925",
      "259.500",
    ],
    WHITE: [
      "374.175",
      "324.700",
      "326.250",
      "35.850",
      "398.750",
      "388.450",
      "79.725",
      "MIDS 81",
      "3.225",
    ],
    YELLOW: [
      "329.350",
      "259.100",
      "MIDS 45",
      "126.600",
      "335.775",
      "311.500",
      "151.425",
      "MIDS 83",
      "39.325",
    ],
  },
];

export type freqNames =
  | "AMBER"
  | "AQUA"
  | "BLACK"
  | "BLUE"
  | "BRONZE"
  | "CARMINE"
  | "COBALT"
  | "CRIMSON"
  | "EMERALD"
  | "GARNET"
  | "GOLD"
  | "GREEN"
  | "INDIGO"
  | "IVORY"
  | "JADE"
  | "KHAKI"
  | "MAGENTA"
  | "OCHRE"
  | "OLIVE"
  | "ORANGE"
  | "PINK"
  | "PURPLE"
  | "RED"
  | "RUBY"
  | "SAGE"
  | "SAPPHIRE"
  | "SCARLET"
  | "SILVER"
  | "TEAL"
  | "VIOLET"
  | "WHITE"
  | "YELLOW";

export const freqNames = [
  "AMBER",
  "AQUA",
  "BLACK",
  "BLUE",
  "BRONZE",
  "CARMINE",
  "COBALT",
  "CRIMSON",
  "EMERALD",
  "GARNET",
  "GOLD",
  "GREEN",
  "INDIGO",
  "IVORY",
  "JADE",
  "KHAKI",
  "MAGENTA",
  "OCHRE",
  "OLIVE",
  "ORANGE",
  "PINK",
  "PURPLE",
  "RED",
  "RUBY",
  "SAGE",
  "SAPPHIRE",
  "SCARLET",
  "SILVER",
  "TEAL",
  "VIOLET",
  "WHITE",
  "YELLOW",
];

export function fromFreqency(freq?: string | number) {
  if (!freq) return ["", ""];

  // normalize input data
  if (typeof freq === "number") {
    freq = freq.toString();
  }
  // convert 2 decimal frequencies into 3 decimal frequencies
  if (freq.split(".")[0].length === 2) {
    if (["2", "7"].includes(freq.split(".")[0][1])) {
      freq = freq + "5";
    } else {
      freq = freq + "0";
    }
  }

  // find frequency in table
  for (const [key, values] of Object.entries(commTables[0])) {
    if (values.includes(freq)) {
      return [key, values.indexOf(freq) + 1];
    }
  }
  return ["", ""];
}

interface WithPreset {
  name: freqNames;
  number: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10;
}

interface WithFreq {
  freq: string;
}

interface BaseRadio {
  radio: "radio1" | "radio2";
  descr: string;
  preset: number; // Might make this a range through some hack, idk
}

export type RadioType = (BaseRadio & WithPreset) | (BaseRadio & WithFreq);

export function isPreset(x: RadioType): x is BaseRadio & WithPreset {
  return "name" in x && "number" in x;
}

export function isFreq(x: RadioType): x is BaseRadio & WithPreset {
  return "freq" in x;
}

export const tacticalFreqs: {
  description: string;
  freq: string;
  name: string;
  number?: number;
}[] = new Array();

function makefreq(
  input:
    | { description: string; freq: string }
    | { description: string; name: freqNames; number: number }
) {
  if ("freq" in input) {
    tacticalFreqs.push({
      description: input.description,
      freq: input.freq,
      name: "",
      number: 0,
    });
  } else {
    tacticalFreqs.push({
      description: input.description,
      freq: commTables[0][input.name][input.number - 1],
      name: input.name,
      number: input.number,
    });
  }
}

makefreq({
  description: "SOLEX CHECK-IN",
  name: "COBALT",
  number: 2,
});

makefreq({
  description: "SOLEX AIC 1",
  name: "SILVER",
  number: 4,
});

makefreq({
  description: "SOLEX AIC 2",
  name: "TEAL",
  number: 1,
});

makefreq({
  description: "SOLEX AIC 3",
  name: "MAGENTA",
  number: 6,
});

makefreq({
  description: "IMAGE CHECK-IN",
  name: "GREEN",
  number: 9,
});

makefreq({
  description: "IMAGE AIC 1",
  name: "RUBY",
  number: 9,
});

makefreq({
  description: "IMAGE AIC 2",
  name: "WHITE",
  number: 6,
});

makefreq({
  description: "IMAGE AIC 3",
  name: "EMERALD",
  number: 7,
});

makefreq({
  description: "SENTRY CHECK-IN",
  name: "GOLD",
  number: 6,
});

makefreq({
  description: "SENTRY AIC 1",
  name: "KHAKI",
  number: 6,
});

makefreq({
  description: "SENTRY AIC 2",
  name: "RED",
  number: 5,
});

makefreq({
  description: "SENTRY AIC 3",
  name: "GARNET",
  number: 3,
});

// Those should only be available from Syria
// TODO: Make this a configurable component and make them per theatre
makefreq({
  description: "TEL AVIV CENTER",
  freq: "118.400",
});

makefreq({
  description: "BEIRUT CENTER",
  freq: "119.300",
});

makefreq({
  description: "ANKARA CENTER",
  freq: "124.075",
});

makefreq({
  description: "ANKARA CENTER",
  freq: "318.125",
});

makefreq({
  description: "NICOSIA CENTER",
  freq: "126.300",
});

makefreq({
  description: "NICOSIA CENTER",
  freq: "353.800",
});
